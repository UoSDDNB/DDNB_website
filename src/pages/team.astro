---
import BaseLayout from '../layouts/BaseLayout.astro';
import TeamMemberCard from '../components/TeamMemberCard.astro';
import { getCollection } from 'astro:content';

const teamMembers = await getCollection('team');
// Sort by order field (ascending), members without order go to the end
const sortedTeam = teamMembers.sort((a, b) => {
  const orderA = a.data.order ?? 999;
  const orderB = b.data.order ?? 999;
  return orderA - orderB;
});
---

<BaseLayout title="Meet the Team - Data-Driven Network Biology Group">
  <!-- Hero Section -->
  <section class="py-16 bg-gradient-to-r from-tekhelet to-tekhelet-100 text-white">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">Meet the Team</h1>
        <p class="text-xl opacity-90">
          Integrating data, biology, and computation to understand cellular function
        </p>
      </div>
    </div>
  </section>
  
  <!-- Lab Overview -->
  <section class="py-16 bg-white">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <div>
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Our Research Focus</h2>
            <p class="text-lg text-gray-700 leading-relaxed mb-6">
              We are a dynamic research group at the University of Southampton, dedicated to advancing 
              our understanding of biological systems through innovative computational approaches. 
              Our work combines cutting-edge experimental techniques with state-of-the-art data analysis methods.
            </p>
            <p class="text-lg text-gray-700 leading-relaxed">
              Our research spans single-cell biology, network analysis, and machine learning applications 
              in biology. We develop computational tools and methods that make cutting-edge analysis 
              accessible to the broader research community.
            </p>
          </div>
          
          <div class="relative">
            <img 
              src="/hero/lab-group-photo.jpg" 
              alt="Data-Driven Network Biology Group team photo"
              class="w-full h-96 object-cover rounded-lg shadow-lg"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-lg"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Team Section -->
  <section class="py-16 bg-gray-50">
    <div class="container-custom">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">Our Team</h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          A diverse group of researchers passionate about advancing biology through data science. 
          Our team combines expertise in computational biology, experimental biology, and data science.
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
        {sortedTeam.map((member) => (
          <TeamMemberCard 
            name={member.data.name}
            role={member.data.role}
            image={member.data.image}
            quote={member.data.quote}
            bioLong={member.data.bioLong}
            github={member.data.github}
            scholar={member.data.scholar}
            website={member.data.website}
            linkedin={member.data.linkedin}
            email={member.data.email}
            slug={member.slug}
          />
        ))}
      </div>
    </div>
  </section>
  
  <!-- Join the Lab Section -->
  <section class="py-16 bg-white">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl font-bold text-gray-900 mb-6">Join the Lab</h2>
        <p class="text-lg text-gray-700 leading-relaxed mb-8">
          We're always looking for talented researchers to join our group. Whether you're interested in 
          single-cell biology, network analysis, or machine learning applications in biology, we'd love to hear from you. 
          We welcome applications from PhD students, postdocs, and visiting researchers.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="mailto:ddnetbio@soton.ac.uk" class="btn-primary">
            Get in Touch
          </a>
          <a href="/publications" class="btn-secondary">
            View Our Work
          </a>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Contact Information -->
  <section class="py-16 bg-gray-50">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">Contact Information</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="card">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">University of Southampton</h3>
            <div class="space-y-2 text-gray-600">
              <p>Faculty of Environmental and Life Sciences</p>
              <p>Southampton General Hospital</p>
              <p>Tremona Road</p>
              <p>Southampton, SO16 6YD</p>
              <p>United Kingdom</p>
            </div>
          </div>
          
          <div class="card">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Get in Touch</h3>
            <div class="space-y-3">
              <p class="text-gray-600">
                <strong>Email:</strong> 
                <a href="mailto:ddnetbio@soton.ac.uk" class="text-tekhelet hover:text-skyMagenta">
                  ddnetbio@soton.ac.uk
                </a>
              </p>
              <p class="text-gray-600">
                <strong>University:</strong> 
                <a href="https://www.southampton.ac.uk" target="_blank" rel="noopener noreferrer" class="text-tekhelet hover:text-skyMagenta">
                  University of Southampton
                </a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
